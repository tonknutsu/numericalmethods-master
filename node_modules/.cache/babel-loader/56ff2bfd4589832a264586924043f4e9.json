{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _createReactClass = require('create-react-class');\n\nvar _createReactClass2 = _interopRequireDefault(_createReactClass);\n\nvar _propTypes = require('prop-types');\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _RouteUtils = require('./RouteUtils');\n\nvar _PatternUtils = require('./PatternUtils');\n\nvar _InternalPropTypes = require('./InternalPropTypes');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * A <Redirect> is used to declare another URL path a client should\n * be sent to when they request a given URL.\n *\n * Redirects are placed alongside routes in the route configuration\n * and are traversed in the same manner.\n */\n\n/* eslint-disable react/require-render-return */\n\n\nvar Redirect = (0, _createReactClass2.default)({\n  displayName: 'Redirect',\n  statics: {\n    createRouteFromReactElement: function createRouteFromReactElement(element) {\n      var route = (0, _RouteUtils.createRouteFromReactElement)(element);\n      if (route.from) route.path = route.from;\n\n      route.onEnter = function (nextState, replace) {\n        var location = nextState.location,\n            params = nextState.params;\n        var pathname = void 0;\n\n        if (route.to.charAt(0) === '/') {\n          pathname = (0, _PatternUtils.formatPattern)(route.to, params);\n        } else if (!route.to) {\n          pathname = location.pathname;\n        } else {\n          var routeIndex = nextState.routes.indexOf(route);\n          var parentPattern = Redirect.getRoutePattern(nextState.routes, routeIndex - 1);\n          var pattern = parentPattern.replace(/\\/*$/, '/') + route.to;\n          pathname = (0, _PatternUtils.formatPattern)(pattern, params);\n        }\n\n        replace({\n          pathname: pathname,\n          query: route.query || location.query,\n          state: route.state || location.state\n        });\n      };\n\n      return route;\n    },\n    getRoutePattern: function getRoutePattern(routes, routeIndex) {\n      var parentPattern = '';\n\n      for (var i = routeIndex; i >= 0; i--) {\n        var route = routes[i];\n        var pattern = route.path || '';\n        parentPattern = pattern.replace(/\\/*$/, '/') + parentPattern;\n        if (pattern.indexOf('/') === 0) break;\n      }\n\n      return '/' + parentPattern;\n    }\n  },\n  propTypes: {\n    path: _propTypes.string,\n    from: _propTypes.string,\n    // Alias for path\n    to: _propTypes.string.isRequired,\n    query: _propTypes.object,\n    state: _propTypes.object,\n    onEnter: _InternalPropTypes.falsy,\n    children: _InternalPropTypes.falsy\n  },\n\n  /* istanbul ignore next: sanity check */\n  render: function render() {\n    !false ? process.env.NODE_ENV !== 'production' ? (0, _invariant2.default)(false, '<Redirect> elements are for router configuration only and should not be rendered') : (0, _invariant2.default)(false) : void 0;\n  }\n});\nexports.default = Redirect;\nmodule.exports = exports['default'];","map":{"version":3,"sources":["/Users/nadol/node_modules/react-router/lib/Redirect.js"],"names":["exports","__esModule","_createReactClass","require","_createReactClass2","_interopRequireDefault","_propTypes","_invariant","_invariant2","_RouteUtils","_PatternUtils","_InternalPropTypes","obj","default","Redirect","displayName","statics","createRouteFromReactElement","element","route","from","path","onEnter","nextState","replace","location","params","pathname","to","charAt","formatPattern","routeIndex","routes","indexOf","parentPattern","getRoutePattern","pattern","query","state","i","propTypes","string","isRequired","object","falsy","children","render","process","env","NODE_ENV","module"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _createReactClass = require('create-react-class');\n\nvar _createReactClass2 = _interopRequireDefault(_createReactClass);\n\nvar _propTypes = require('prop-types');\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _RouteUtils = require('./RouteUtils');\n\nvar _PatternUtils = require('./PatternUtils');\n\nvar _InternalPropTypes = require('./InternalPropTypes');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * A <Redirect> is used to declare another URL path a client should\n * be sent to when they request a given URL.\n *\n * Redirects are placed alongside routes in the route configuration\n * and are traversed in the same manner.\n */\n/* eslint-disable react/require-render-return */\nvar Redirect = (0, _createReactClass2.default)({\n  displayName: 'Redirect',\n\n  statics: {\n    createRouteFromReactElement: function createRouteFromReactElement(element) {\n      var route = (0, _RouteUtils.createRouteFromReactElement)(element);\n\n      if (route.from) route.path = route.from;\n\n      route.onEnter = function (nextState, replace) {\n        var location = nextState.location,\n            params = nextState.params;\n\n\n        var pathname = void 0;\n        if (route.to.charAt(0) === '/') {\n          pathname = (0, _PatternUtils.formatPattern)(route.to, params);\n        } else if (!route.to) {\n          pathname = location.pathname;\n        } else {\n          var routeIndex = nextState.routes.indexOf(route);\n          var parentPattern = Redirect.getRoutePattern(nextState.routes, routeIndex - 1);\n          var pattern = parentPattern.replace(/\\/*$/, '/') + route.to;\n          pathname = (0, _PatternUtils.formatPattern)(pattern, params);\n        }\n\n        replace({\n          pathname: pathname,\n          query: route.query || location.query,\n          state: route.state || location.state\n        });\n      };\n\n      return route;\n    },\n    getRoutePattern: function getRoutePattern(routes, routeIndex) {\n      var parentPattern = '';\n\n      for (var i = routeIndex; i >= 0; i--) {\n        var route = routes[i];\n        var pattern = route.path || '';\n\n        parentPattern = pattern.replace(/\\/*$/, '/') + parentPattern;\n\n        if (pattern.indexOf('/') === 0) break;\n      }\n\n      return '/' + parentPattern;\n    }\n  },\n\n  propTypes: {\n    path: _propTypes.string,\n    from: _propTypes.string, // Alias for path\n    to: _propTypes.string.isRequired,\n    query: _propTypes.object,\n    state: _propTypes.object,\n    onEnter: _InternalPropTypes.falsy,\n    children: _InternalPropTypes.falsy\n  },\n\n  /* istanbul ignore next: sanity check */\n  render: function render() {\n    !false ? process.env.NODE_ENV !== 'production' ? (0, _invariant2.default)(false, '<Redirect> elements are for router configuration only and should not be rendered') : (0, _invariant2.default)(false) : void 0;\n  }\n});\n\nexports.default = Redirect;\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}